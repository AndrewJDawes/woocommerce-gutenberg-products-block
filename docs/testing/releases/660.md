## Testing notes and ZIP for release 6.6.0

Zip file for testing: [woocommerce-gutenberg-products-block.zip](https://github.com/woocommerce/woocommerce-gutenberg-products-block/files/7746517/woocommerce-gutenberg-products-block.zip)

## Feature Plugin

### Mini Cart Block: render the empty state set on template parts [#5338](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5338)

This test requires the latest version of the Gutenberg plugin, and a block based theme such as TTY Blocks.

1. Ensure your cart is empty.
2. Create a post/page with Mini Cart Block.
3. Open the Site Editor.
4. Select template parts on the sidebar menu and click on Mini Cart.
5. See the switcher in the block toolbar.
6. Set the state Empty Mini Card.
7. Edit existing blocks or add new blocks.
8. Go on the post/page saved earlier, click on Mini Cart.
9. Check if you see the blocks you set before in the opened sidebar.

### Fix modified block templates to have a user friendly Plugin name. [#5420](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5420)

1. Modify one of the WooCommerce block templates via the Site Editor. Save it.
2. Load the templates screen and ensure the Added By column value says WooCommerce and not woocommerce
3. Ensure the modified version of the template loads in the Site Editor and on the frontend.

### Check if the current theme has a product-archive block template in the absence of a product taxonomy block template. [#5380](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5380)

Add the following block markup to the following templates so you know which one is getting rendered:

1. woo-blocks/archive-product.html
2. woo-blocks/taxonomy-product_tag.html
3. woo-blocks/taxonomy-product_cat.html

Template:

```
<!-- wp:paragraph -->
<p>Woo Blocks: [template-filename].html</p>
<!-- /wp:paragraph -->
```

1. Install Gutenberg plugin and Blockbase theme to activate Site Editor and FSE.
2. Go to a product category page and check that woo-blocks/taxonomy-product_cat.html is the template being used.
3. Duplicate woo-blocks/archive-product.html into blockbase/block-templates/ and change the markup you added above to say "Blockbase" instead of "Woo Blocks" so we can differentiate.
4. Reload the product category page, product tag page, and main shop page/product archive page and check that the archive-product.html from Blockbase is being loaded.
5. Go into Site Editor > All Templates and check that "Product Archive Page", "Product Category Page" and "Product Tag Page" are all in the list and it states they're being loaded from the Blockbase theme
6. Customise the Product Category Page template and save your changes
7. Reload the product category page on the frontend and check the customised version of this template is being rendered.

### Set the origin of custom templates to 'plugin' and fix plugin name on REST requests [#5375](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5375)

1. Go to Appearance > Site Editor > Templates.
2. If you haven't edited any of the WooCommerce templates, edit one and go back to the Templates list.
3. Verify the WooCommerce edited template has the plugin icon (plug) instead of the theme icon (icon of a webpage).
4. Verify it shows the plugin name as WooCommerce instead of woocommerce (notice the capital letters).
5. Verify there were no 404 calls made when loading the page.

### Switch to correct view if inner block is selected [#5358](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5358)

1. Insert or edit the Cart block.
2. Open the block navigation list panel.
3. Given the current view is the Filled Cart.
4. Select an inner block of Empty Cart.
5. See the view changes to Empty.
6. Repeat all steps above to test Mini Cart Contents block.

### Fix extra network request on cart [#5394](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5394)

To test this, you must open developer tools and look at the network requests sent.

1. Load the cart page
2. There should be no requests (batch or otherwise) to update customer data once the cart is mounted. Look for calls to the /batch endpoint.

### Trigger validation on change if the input is not focussed [#5373](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5373)

1. In a clean browser session with no address, add an item to the cart
2. Go to Cart block
3. Open shipping calculator.
4. Autofill an address.
5. Click update
6. You should see no inline validation errors

### Revise checkout payment statuses to avoid data loss on error [#5350](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5350)

This requires Stripe and a saved payment method.

1.Go to checkout and select a saved method for payment.

2. Leave a required field blank and place order.
3. See error.
4. Correct mistake and place order again.
5. Order should go through without an error.

### Add error message for fetch errors on checkout [#5341](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5341)

1. Go to checkout and open network tools (in browser development tools).
2. Place an order using an invalid postcode so that an error is returned. Confirm postcode error is shown.
3. Right click the checkout/ request in browser tools and block it.
4. Place order again and it should give you a network error.

### Remove legacy shipping_phone handling in the StoreAPI [#5326](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5326)

1. Go through the checkout flow with a new address, taking note of your billing and shipping phone number.
2. Confirm the address persists to the order.

### Remove full-width mode from cart and checkout block [#5315](https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/5315)

1. Create a test page with the cart block.
2. Verify that both the Cart, the Filled Cart and the Empty Cart only show the alignment options None and Wide width.
3. Create a test page with the checkout block.
4. Verify that only the alignment options None and Wide width are available.
